package io.gitlab.arturbosch.grovlin.ast.symbols

import io.gitlab.arturbosch.grovlin.ast.AstNode
import io.gitlab.arturbosch.grovlin.ast.DecimalType
import io.gitlab.arturbosch.grovlin.ast.Type

/**
 * @author Artur Bosch
 */
fun array2dOfInt(sizeOuter: Int, sizeInner: Int): Array<IntArray> = Array(sizeOuter) { IntArray(sizeInner) }

const val NUMBER_OF_TYPES = 7

val PROMOTE_FROM_TO: Array<Array<Type?>> = Array(NUMBER_OF_TYPES) { arrayOfNulls<Type>(NUMBER_OF_TYPES) }.apply {
	this[T_INT_INDEX][T_DECIMAL_INDEX] = DecimalType
}

const val T_USER_INDEX = 0
const val T_BOOL_INDEX = 1
const val T_INT_INDEX = 2
const val T_DECIMAL_INDEX = 3
const val T_STRING_INDEX = 4
const val T_VOID_INDEX = 5
const val T_UNKNOWN_INDEX = 6

fun getResultType(promotionTable: Array<IntArray>, left: AstNode, right: AstNode): Int {
	val typeLeft = left.evaluationType?.typeIndex ?: T_UNKNOWN_INDEX
	val typeRight = right.evaluationType?.typeIndex ?: T_UNKNOWN_INDEX
	val resultType = promotionTable[typeLeft][typeRight]
	left.promotionType = PROMOTE_FROM_TO[typeLeft][resultType]
	right.promotionType = PROMOTE_FROM_TO[typeRight][resultType]
	return resultType
}

val ARITHMETIC_PROMOTION_TABLE: Array<IntArray> = array2dOfInt(NUMBER_OF_TYPES, NUMBER_OF_TYPES).apply {
	this[T_USER_INDEX][T_USER_INDEX] = T_USER_INDEX
	this[T_USER_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_BOOL_INDEX] = T_BOOL_INDEX
	this[T_BOOL_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_BOOL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_INT_INDEX] = T_INT_INDEX
	this[T_INT_INDEX][T_DECIMAL_INDEX] = T_DECIMAL_INDEX
	this[T_INT_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_INT_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_INT_INDEX] = T_DECIMAL_INDEX
	this[T_DECIMAL_INDEX][T_DECIMAL_INDEX] = T_DECIMAL_INDEX
	this[T_DECIMAL_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_DECIMAL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_INT_INDEX] = T_STRING_INDEX
	this[T_STRING_INDEX][T_DECIMAL_INDEX] = T_STRING_INDEX
	this[T_STRING_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_STRING_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
}

val DIVISION_PROMOTION_TABLE = array2dOfInt(NUMBER_OF_TYPES, NUMBER_OF_TYPES).apply {
	this[T_USER_INDEX][T_USER_INDEX] = T_USER_INDEX
	this[T_USER_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_BOOL_INDEX] = T_BOOL_INDEX
	this[T_BOOL_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_BOOL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_INT_INDEX] = T_DECIMAL_INDEX // INT / INT = DECIMAL
	this[T_INT_INDEX][T_DECIMAL_INDEX] = T_DECIMAL_INDEX
	this[T_INT_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_INT_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_INT_INDEX] = T_DECIMAL_INDEX
	this[T_DECIMAL_INDEX][T_DECIMAL_INDEX] = T_DECIMAL_INDEX
	this[T_DECIMAL_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_DECIMAL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_USER_INDEX] = T_VOID_INDEX // DIV not defined for string
	this[T_STRING_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
}


val MUL_PROMOTION_TABLE = array2dOfInt(NUMBER_OF_TYPES, NUMBER_OF_TYPES).apply {
	this[T_USER_INDEX][T_USER_INDEX] = T_USER_INDEX
	this[T_USER_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_BOOL_INDEX] = T_BOOL_INDEX
	this[T_BOOL_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_BOOL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_INT_INDEX] = T_INT_INDEX
	this[T_INT_INDEX][T_DECIMAL_INDEX] = T_DECIMAL_INDEX
	this[T_INT_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_INT_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_INT_INDEX] = T_DECIMAL_INDEX
	this[T_DECIMAL_INDEX][T_DECIMAL_INDEX] = T_DECIMAL_INDEX
	this[T_DECIMAL_INDEX][T_STRING_INDEX] = T_STRING_INDEX
	this[T_DECIMAL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_USER_INDEX] = T_VOID_INDEX // DIV not defined for string
	this[T_STRING_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
}

val RELATIONAL_PROMOTION_TABLE = array2dOfInt(NUMBER_OF_TYPES, NUMBER_OF_TYPES).apply {
	this[T_USER_INDEX][T_USER_INDEX] = T_BOOL_INDEX
	this[T_USER_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_BOOL_INDEX] = T_BOOL_INDEX
	this[T_BOOL_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_INT_INDEX] = T_BOOL_INDEX
	this[T_INT_INDEX][T_DECIMAL_INDEX] = T_BOOL_INDEX
	this[T_INT_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_INT_INDEX] = T_BOOL_INDEX
	this[T_DECIMAL_INDEX][T_DECIMAL_INDEX] = T_BOOL_INDEX
	this[T_DECIMAL_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_USER_INDEX] = T_BOOL_INDEX
	this[T_STRING_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_STRING_INDEX] = T_BOOL_INDEX
	this[T_STRING_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
}

val BINARY_PROMOTION_TABLE = array2dOfInt(NUMBER_OF_TYPES, NUMBER_OF_TYPES).apply {
	this[T_USER_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_USER_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_BOOL_INDEX] = T_BOOL_INDEX
	this[T_BOOL_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_BOOL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_INT_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_DECIMAL_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_STRING_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_VOID_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_USER_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_BOOL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_INT_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_DECIMAL_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_STRING_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_VOID_INDEX] = T_VOID_INDEX
	this[T_UNKNOWN_INDEX][T_UNKNOWN_INDEX] = T_VOID_INDEX
}